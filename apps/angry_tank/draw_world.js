function drawWorld(e,o){for(var t=e.GetJointList();t;t=t.m_next)drawJoint(t,o,e);for(var i=e.GetBodyList();i;i=i.GetNext())drawShape(i,o,e)}function drawJoint(e,o,t){var i=e.GetBodyA(),a=e.GetBodyB(),n=i.GetPosition(),r=a.GetPosition(),y=e.GetAnchorA(),d=e.GetAnchorB();switch(o.strokeStyle="#00eeee",o.beginPath(),e.GetType()){default:i==t.GetGroundBody()?(o.moveTo(y.x,y.y),o.lineTo(r.x,r.y)):a==t.GetGroundBody()?(o.moveTo(y.x,y.y),o.lineTo(n.x,n.y)):(o.moveTo(n.x,n.y),o.lineTo(y.x,y.y),o.lineTo(r.x,r.y),o.lineTo(d.x,d.y))}o.stroke()}function drawShape(e,o,t){switch(o.strokeStyle="#ffffff",o.beginPath(),e.GetType()){case b2Shape.e_circleShape:var i=e,a=i.m_position,n=i.m_radius,r=16,y=0,d=2*Math.PI/r;o.moveTo(a.x+n,a.y);for(var x=0;r>x;x++){var h=new b2Vec2(n*Math.cos(y),n*Math.sin(y)),s=b2Math.AddVV(a,h);o.lineTo(s.x,s.y),y+=d}o.lineTo(a.x+n,a.y),o.moveTo(a.x,a.y);var l=i.m_R.col1,v=new b2Vec2(a.x+n*l.x,a.y+n*l.y);o.lineTo(v.x,v.y);break;case b2Shape.e_polyShape:var T=e,c=b2Math.AddVV(T.m_position,b2Math.b2MulMV(T.m_R,T.m_vertices[0]));o.moveTo(c.x,c.y);for(var x=0;x<T.m_vertexCount;x++){var s=b2Math.AddVV(T.m_position,b2Math.b2MulMV(T.m_R,T.m_vertices[x]));o.lineTo(s.x,s.y)}o.lineTo(c.x,c.y)}o.stroke()}