function drawWorld(e,o){for(var t=e.GetJointList();t;t=t.m_next)drawJoint(t,o,e);for(var i=e.GetBodyList();i;i=i.GetNext())drawShape(i,o,e)}function drawJoint(e,o,t){var i=e.GetBodyA(),a=e.GetBodyB(),n=i.GetPosition(),r=a.GetPosition(),y=e.GetAnchorA(),d=e.GetAnchorB();switch(o.strokeStyle="#00eeee",o.beginPath(),e.GetType()){default:i==t.GetGroundBody()?(o.moveTo(y.x,y.y),o.lineTo(r.x,r.y)):a==t.GetGroundBody()?(o.moveTo(y.x,y.y),o.lineTo(n.x,n.y)):(o.moveTo(n.x,n.y),o.lineTo(y.x,y.y),o.lineTo(r.x,r.y),o.lineTo(d.x,d.y))}o.stroke()}function drawShape(e,o){switch(o.strokeStyle="#ffffff",o.beginPath(),e.GetType()){case b2Shape.e_circleShape:var t=e,i=t.m_position,a=t.m_radius,n=16,r=0,y=2*Math.PI/n;o.moveTo(i.x+a,i.y);for(var d=0;n>d;d++){var x=new b2Vec2(a*Math.cos(r),a*Math.sin(r)),h=b2Math.AddVV(i,x);o.lineTo(h.x,h.y),r+=y}o.lineTo(i.x+a,i.y),o.moveTo(i.x,i.y);var s=t.m_R.col1,l=new b2Vec2(i.x+a*s.x,i.y+a*s.y);o.lineTo(l.x,l.y);break;case b2Shape.e_polyShape:var v=e,T=b2Math.AddVV(v.m_position,b2Math.b2MulMV(v.m_R,v.m_vertices[0]));o.moveTo(T.x,T.y);for(var d=0;d<v.m_vertexCount;d++){var h=b2Math.AddVV(v.m_position,b2Math.b2MulMV(v.m_R,v.m_vertices[d]));o.lineTo(h.x,h.y)}o.lineTo(T.x,T.y)}o.stroke()}